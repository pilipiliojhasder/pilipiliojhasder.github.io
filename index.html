<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∏—Ä–ø–∏—á–Ω—ã–π –°—á—ë—Ç—á–∏–∫ —Å –ü—Ä–æ–º–æ–∫–æ–¥–∞–º–∏</title>

    <style>
        /* CSS —Å—Ç–∏–ª–∏ */
        body {
            background-color: coral; /* –§–æ–Ω –∫–æ—Ä–∞–ª–ª–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞ */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* –í—ã—Å–æ—Ç–∞ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            overflow: hidden; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª */
        }

        #game-container {
            text-align: center;
            background-color: rgba(0, 0, 0, 0.2); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.5); /* –¢–µ–Ω—å –¥–ª—è –æ–±—ä–µ–º–∞ */
            backdrop-filter: blur(5px); /* –ù–µ–±–æ–ª—å—à–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ –∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º */
            width: 90%; /* –®–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            max-width: 500px; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            box-sizing: border-box; /* –£—á–∏—Ç—ã–≤–∞–µ–º padding –≤ —à–∏—Ä–∏–Ω–µ */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #brick-emoji {
            font-size: 10em; /* –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π –∫–∏—Ä–ø–∏—á */
            cursor: pointer; /* –ö—É—Ä—Å–æ—Ä –≤ –≤–∏–¥–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            user-select: none; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ */
            transition: transform 0.15s ease-out; /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏/–∫–ª–∏–∫–µ */
            display: inline-block; /* –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å transform */
            line-height: 1; /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª */
            margin-bottom: 20px;
        }

        #brick-emoji:hover {
            transform: scale(1.05); /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        #brick-emoji:active {
            transform: scale(0.95); /* –£–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ */
        }

        #counter {
            font-size: 3em; /* –ë–æ–ª—å—à–æ–π —à—Ä–∏—Ñ—Ç –¥–ª—è —Å—á—ë—Ç—á–∏–∫–∞ */
            font-weight: bold;
            color: #ffeb3b; /* –Ø—Ä–∫–æ-–∂—ë–ª—Ç—ã–π —Ü–≤–µ—Ç */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6); /* –¢–µ–Ω—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞ */
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        #message {
            margin-top: 5px; /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª–æ –ø—Ä–æ–º–æ */
            font-size: 1.2em;
            color: #ffe0b2;
            min-height: 1.5em; /* –ß—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –Ω–µ "–ø—Ä—ã–≥–∞–ª" */
            margin-bottom: 20px; /* –û—Ç—Å—Ç—É–ø –¥–æ —Å–µ–∫—Ü–∏–∏ –ø—Ä–æ–º–æ */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–µ–∫—Ü–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ */
        #promo-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.3); /* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å */
            width: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
        }

        #promo-input-group {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px; /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –ø–æ–ª–µ–º –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–æ–π */
            flex-wrap: wrap; /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
        }

        #promo-input {
            flex-grow: 1; /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ –±—É–¥–µ—Ç —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è */
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            background-color: rgba(255, 255, 255, 0.9);
            color: #333;
            outline: none; /* –£–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ–±–≤–æ–¥–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ */
            box-sizing: border-box;
            transition: background-color 0.3s ease;
            min-width: 150px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –ø–æ–ª—è –≤–≤–æ–¥–∞ */
        }

        #promo-input:focus {
            background-color: white;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5);
        }

        #apply-promo-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background-color: #4CAF50; /* –ó–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */
            color: white;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            white-space: nowrap; /* –ß—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∞—Å—å */
        }

        #apply-promo-btn:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }

        #apply-promo-btn:active {
            transform: translateY(0);
            background-color: #3e8e41;
        }

        #promo-message {
            margin-top: 15px;
            font-size: 1em;
            color: #ffcc80; /* –¶–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø—Ä–æ–º–æ —Å–æ–æ–±—â–µ–Ω–∏–π */
            min-height: 1.2em; /* –ß—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –Ω–µ "–ø—Ä—ã–≥–∞–ª" */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞ */
        #reset-progress-btn {
            margin-top: 30px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –ø—Ä–æ–º–æ-—Å–µ–∫—Ü–∏–∏ */
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background-color: #f44336; /* –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }

        #reset-progress-btn:hover {
            background-color: #da190b;
            transform: translateY(-2px);
        }

        #reset-progress-btn:active {
            transform: translateY(0);
            background-color: #c00c00;
        }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="brick-emoji">üß±</div>
        <div id="counter">–°—á—ë—Ç: 0.000</div>
        <div id="message"></div> <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –∫–ª–∏–∫–∞ –ø–æ –∫–∏—Ä–ø–∏—á—É -->

        <div id="promo-section">
            <div id="promo-input-group">
                <input type="text" id="promo-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
                <button id="apply-promo-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
            <div id="promo-message"></div> <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–º–æ–∫–æ–¥–µ -->
        </div>

        <button id="reset-progress-btn">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
    </div>

    <script>
        // JavaScript –ª–æ–≥–∏–∫–∞
        const brick = document.getElementById('brick-emoji');
        const counterDisplay = document.getElementById('counter');
        const messageDisplay = document.getElementById('message'); // –î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –∫–∏—Ä–ø–∏—á–∞

        const promoInput = document.getElementById('promo-input');
        const applyPromoBtn = document.getElementById('apply-promo-btn');
        const promoMessageDisplay = document.getElementById('promo-message'); // –î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø—Ä–æ–º–æ–∫–æ–¥–∞
        const resetProgressBtn = document.getElementById('reset-progress-btn'); // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞

        // –ö–ª—é—á–∏ –¥–ª—è localStorage
        const VALUE_KEY = 'brickCounterValue';
        const TIMESTAMP_KEY = 'lastBrickClickTimestamp';
        const USED_PROMOS_KEY = 'usedPromoCodes';

        // –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è
        const promoCodes = {
            "promotest": 12.000,
            "promotest1": 5.789,

"secretbonus": 25.000,
            "freebie": 0.500
        };

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        let currentValue;
        let lastClickTimestamp;
        let usedPromoCodes;

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ localStorage –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        function loadState() {
            currentValue = parseFloat(localStorage.getItem(VALUE_KEY)) || 0;
            lastClickTimestamp = parseInt(localStorage.getItem(TIMESTAMP_KEY)) || 0;
            try {
                // –ü—ã—Ç–∞–µ–º—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
                usedPromoCodes = JSON.parse(localStorage.getItem(USED_PROMOS_KEY)) || [];
            } catch (e) {
                console.error("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ usedPromoCodes –∏–∑ localStorage:", e);
                usedPromoCodes = []; // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ localStorage
        function saveState() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É —Å –ø–æ–ª–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é (–Ω–µ toFixed –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è)
            localStorage.setItem(VALUE_KEY, currentValue.toString());
            localStorage.setItem(TIMESTAMP_KEY, lastClickTimestamp.toString());
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º–∞—Å—Å–∏–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ
            localStorage.setItem(USED_PROMOS_KEY, JSON.stringify(usedPromoCodes));
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—á—ë—Ç—á–∏–∫–∞
        function updateCounterDisplay() {
            counterDisplay.textContent = `–°—á—ë—Ç: ${currentValue.toFixed(3)}`; // toFixed(3) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –∫–∏—Ä–ø–∏—á–∞)
        function updateMessage(msg, color = '#ffe0b2') {
            messageDisplay.textContent = msg;
            messageDisplay.style.color = color;
            // –û—á–∏—â–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
            if (msg) {
                setTimeout(() => messageDisplay.textContent = '', 3000);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ –ø—Ä–æ–º–æ–∫–æ–¥–∞—Ö
        function updatePromoMessage(msg, color = '#ffcc80') {
            promoMessageDisplay.textContent = msg;
            promoMessageDisplay.style.color = color;
            // –û—á–∏—â–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
            if (msg) {
                setTimeout(() => promoMessageDisplay.textContent = '', 4000);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
        function formatTimeLeft(milliseconds) {
            const totalSeconds = Math.floor(milliseconds / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return `${hours}—á ${minutes}–º ${seconds}—Å`;
        }

        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ---
        loadState();
        updateCounterDisplay();

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
        if (lastClickTimestamp) {
            const now = Date.now();
            const twentyFourHours = 24 * 60 * 60 * 1000;
            if (now - lastClickTimestamp < twentyFourHours) {
                const timeLeft = twentyFourHours - (now - lastClickTimestamp);
                updateMessage(`–°–ª–µ–¥—É—é—â–∏–π –∫–ª–∏–∫ —á–µ—Ä–µ–∑ ${formatTimeLeft(timeLeft)}`, 'orange');
            } else {
                updateMessage('–ö–∏—Ä–ø–∏—á –≥–æ—Ç–æ–≤ –∫ –Ω–æ–≤—ã–º –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏—è–º!');
            }
        } else {
            updateMessage('–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∏—Ä–ø–∏—á, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!');
        }
        updatePromoMessage('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –±–æ–Ω—É—Å–∞!');


        // --- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π ---

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫–∏—Ä–ø–∏—á—É
        brick.addEventListener('click', function() {
            const now = Date.now(); // –¢–µ–∫—É—â–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
            const twentyFourHours = 24 * 60 * 60 * 1000; // 24 —á–∞—Å–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 24 —á–∞—Å–∞
            if (lastClickTimestamp && (now - lastClickTimestamp < twentyFourHours)) {
                const timeLeft = twentyFourHours

- (now - lastClickTimestamp);
                updateMessage(`–°–ª–µ–¥—É—é—â–∏–π –∫–ª–∏–∫ –≤–æ–∑–º–æ–∂–µ–Ω —á–µ—Ä–µ–∑ ${formatTimeLeft(timeLeft)}`, 'orange');
                return;
            }

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0.005 –¥–æ 1
            const min = 0.005;
            const max = 1.000;
            const randomIncrease = Math.random() * (max - min) + min;

            // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ currentValue - —ç—Ç–æ —á–∏—Å–ª–æ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
            currentValue = parseFloat(currentValue) + randomIncrease;

            updateCounterDisplay(); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞
            lastClickTimestamp = now; // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É
            saveState(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ

            updateMessage(`+${randomIncrease.toFixed(3)} –¥–æ–±–∞–≤–ª–µ–Ω–æ!`, '#a7ffeb'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å" –ø—Ä–æ–º–æ–∫–æ–¥
        applyPromoBtn.addEventListener('click', function() {
            const enteredCode = promoInput.value.trim().toLowerCase(); // –ü—Ä–∏–≤–æ–¥–∏–º –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ –æ–±—Ä–µ–∑–∞–µ–º –ø—Ä–æ–±–µ–ª—ã

            if (!enteredCode) {
                updatePromoMessage("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥.", 'orange');
                return;
            }

            if (promoCodes.hasOwnProperty(enteredCode)) {
                if (usedPromoCodes.includes(enteredCode)) {
                    updatePromoMessage(`–ü—Ä–æ–º–æ–∫–æ–¥ "${enteredCode}" —É–∂–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω.`, 'red');
                } else {
                    const promoValue = promoCodes[enteredCode];
                    // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ currentValue - —ç—Ç–æ —á–∏—Å–ª–æ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
                    currentValue = parseFloat(currentValue) + promoValue;

                    usedPromoCodes.push(enteredCode); // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–º–æ–∫–æ–¥ –≤ —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö

                    updateCounterDisplay(); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞
                    saveState(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ

                    updatePromoMessage(`–ü—Ä–æ–º–æ–∫–æ–¥ "${enteredCode}" —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω! +${promoValue.toFixed(3)}`, '#00ff7f');
                    promoInput.value = ''; // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
                }
            } else {
                updatePromoMessage("–ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥.", 'red');
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        resetProgressBtn.addEventListener('click', function() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.')) {
                localStorage.clear(); // –û—á–∏—â–∞–µ–º –≤–µ—Å—å localStorage –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –¥–æ–º–µ–Ω–∞
                loadState(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                updateCounterDisplay(); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                updateMessage('–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω! –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∏—Ä–ø–∏—á, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.', 'lightgreen');
                updatePromoMessage('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –±–æ–Ω—É—Å–∞!');
            }
        });

    </script>

</body>
</html>
